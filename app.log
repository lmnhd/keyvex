{,"time":1751733817737,"msg":"🚀 Logger initialized (debug: pretty console + simple file)"}
{,"time":1751733817749,"endpoint":"/api/ai/logic-architect/brainstorm","method":"GET","msg":"🧠 API [logic-architect/brainstorm]: GET request received"}
{,"time":1751733817750,"agentInfo":{"capabilities":5,"responseTypes":3,"streamingSupported":true,"defaultPrimaryModel":"claude-3-7-sonnet-20250219"},"msg":"🧠 API [logic-architect/brainstorm]: Agent info retrieved successfully"}
{,"time":1751733818384,"endpoint":"/api/ai/logic-architect/brainstorm","method":"GET","msg":"🧠 API [logic-architect/brainstorm]: GET request received"}
{,"time":1751733818385,"agentInfo":{"capabilities":5,"responseTypes":3,"streamingSupported":true,"defaultPrimaryModel":"claude-3-7-sonnet-20250219"},"msg":"🧠 API [logic-architect/brainstorm]: Agent info retrieved successfully"}
{,"time":1751733837952,"endpoint":"/api/ai/logic-architect/brainstorm","method":"GET","msg":"🧠 API [logic-architect/brainstorm]: GET request received"}
{,"time":1751733837953,"agentInfo":{"capabilities":5,"responseTypes":3,"streamingSupported":true,"defaultPrimaryModel":"claude-3-7-sonnet-20250219"},"msg":"🧠 API [logic-architect/brainstorm]: Agent info retrieved successfully"}
{,"time":1751733844675,"msg":"🚀 Logger initialized (debug: pretty console + simple file)"}
{,"time":1751733844693,"endpoint":"/api/ai/logic-architect/brainstorm","method":"GET","msg":"🧠 API [logic-architect/brainstorm]: GET request received"}
{,"time":1751733844695,"agentInfo":{"capabilities":5,"responseTypes":3,"streamingSupported":true,"defaultPrimaryModel":"claude-3-7-sonnet-20250219"},"msg":"🧠 API [logic-architect/brainstorm]: Agent info retrieved successfully"}
{,"time":1751733845421,"clerkKeyLoaded":true,"awsAccessKeyLoaded":false,"awsSecretKeyLoaded":false,"dbTableNameLoaded":true,"nodeEnv":"development","msg":"[API /product-tools/list] - Environment Variable Check"}
{,"time":1751733845422,"msg":"[API /product-tools/list] - Request received."}
{,"time":1751733845427,"clerkKeyLoaded":true,"awsAccessKeyLoaded":false,"awsSecretKeyLoaded":false,"dbTableNameLoaded":true,"nodeEnv":"development","msg":"[API /product-tools/list] - Environment Variable Check"}
{,"time":1751733845428,"msg":"[API /product-tools/list] - Request received."}
{,"time":1751733845429,"msg":"[API /product-tools/list] - Auth successful for userId: lem1"}
{,"time":1751733845430,"msg":"[API /product-tools/list] - ProductToolService instantiated. Calling listUserTools..."}
{,"time":1751733845434,"msg":"[API /product-tools/list] - Auth successful for userId: lem1"}
{,"time":1751733845435,"msg":"[API /product-tools/list] - ProductToolService instantiated. Calling listUserTools..."}
{,"time":1751733850754,"msg":"[API /product-tools/list] - listUserTools returned 40 tools."}
{,"time":1751733853270,"msg":"[API /product-tools/list] - listUserTools returned 40 tools."}
{,"time":1751733853406,"clerkKeyLoaded":true,"awsAccessKeyLoaded":false,"awsSecretKeyLoaded":false,"dbTableNameLoaded":true,"nodeEnv":"development","msg":"[API /product-tools/list] - Environment Variable Check"}
{,"time":1751733853407,"msg":"[API /product-tools/list] - Request received."}
{,"time":1751733853408,"msg":"[API /product-tools/list] - Using provided userId: lem1"}
{,"time":1751733853408,"msg":"[API /product-tools/list] - ProductToolService instantiated. Calling listUserTools..."}
{,"time":1751733854854,"clerkKeyLoaded":true,"awsAccessKeyLoaded":false,"awsSecretKeyLoaded":false,"dbTableNameLoaded":true,"nodeEnv":"development","msg":"[API /product-tools/list] - Environment Variable Check"}
{,"time":1751733854854,"msg":"[API /product-tools/list] - Request received."}
{,"time":1751733854854,"msg":"[API /product-tools/list] - Using provided userId: lem1"}
{,"time":1751733854854,"msg":"[API /product-tools/list] - ProductToolService instantiated. Calling listUserTools..."}
{,"time":1751733856034,"msg":"[API /product-tools/list] - listUserTools returned 40 tools."}
{,"time":1751733857790,"msg":"[API /product-tools/list] - listUserTools returned 40 tools."}
{,"time":1751733908405,"msg":"🚀 Logger initialized (debug: pretty console + simple file)"}
{,"time":1751733908965,"bodyKeys":["brainstormData","agentModelMapping","primaryModel","jobId"],"brainstormDataKeys":["id","timestamp","date","userInput","brainstormData"],"userInputKeys":["toolType","targetAudience","businessContext","selectedModel"],"userInputData":{"toolType":"Small Business Cybersecurity Vulnerability Assessment","targetAudience":"Small business owners and IT managers","businessContext":" build an assessment tool that identifies cybersecurity weak spots for small businesses based on their current IT setup and policies","selectedModel":"claude-3-7-sonnet-20250219"},"msg":"🔍 V2 Orchestration: Incoming request structure"}
{,"time":1751733908976,"jobId":"workflow-1751733895381","brainstormId":"8b8c742a-aac8-4a33-9dcf-bec2aa4b49e0","primaryModel":"gpt-4o","agentMappingCount":7,"msg":"🚀 V2 Orchestration: Starting backend workflow"}
{,"time":1751733908978,"message":"V2 Orchestration workflow has begun","jobId":"workflow-1751733895381","stepName":"initialization","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733908979,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733908981,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733909906,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="},{"connectedAt":"2025-07-05T16:44:00.158Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-07e2b3da-9268-416b-aa89-94d3c232dd4e","connectionId":"NPpslcwkoAMCFTQ=","ttl":1751741040,"SK":"USER#lem1","PK":"CONNECTION#NPpslcwkoAMCFTQ=","GSI1SK":"CONNECTION#NPpslcwkoAMCFTQ="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733909909,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733909912,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733912136,"connectionId":"NPpslcwkoAMCFTQ=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733912232,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733912233,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733912234,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"initialization","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733912236,"jobId":"workflow-1751733895381","totalAgents":6,"msg":"🔄 Starting background agent processing"}
{,"time":1751733912237,"jobId":"workflow-1751733895381","agentType":"function-planner","step":"1/6","model":"gpt-4o","msg":"🤖 Processing agent: function-planner"}
{,"time":1751733912238,"message":"function-planner is processing...","jobId":"workflow-1751733895381","stepName":"planning_function_signatures","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733912239,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733912251,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733912878,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="},{"connectedAt":"2025-07-05T16:44:00.158Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-07e2b3da-9268-416b-aa89-94d3c232dd4e","connectionId":"NPpslcwkoAMCFTQ=","ttl":1751741040,"SK":"USER#lem1","PK":"CONNECTION#NPpslcwkoAMCFTQ=","GSI1SK":"CONNECTION#NPpslcwkoAMCFTQ="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733912880,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733912882,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733913253,"connectionId":"NPpslcwkoAMCFTQ=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733913256,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733913256,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733913257,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"planning_function_signatures","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733913259,"jobId":"workflow-1751733895381","agentType":"function-planner","model":"gpt-4o","tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps"],"msg":"🔗 Executing function-planner agent directly"}
{,"time":1751733913260,"agentType":"function-planner","modelId":"gpt-4o","source":"TCC_AGENT_MAPPING","msg":"Using model from TCC agent mapping"}
{,"time":1751733913264,"jobId":"workflow-1751733895381","agentType":"function-planner","attemptNumber":1,"isRetry":false,"retryStrategy":"standard","executionType":"ai","msg":" AGENT EXECUTOR: Executing AI agent function-planner (attempt 1)"}
{,"time":1751733913266,"jobId":"workflow-1751733895381","agentType":"function-planner","model":"gpt-4o","provider":"openai","attemptNumber":1,"msg":"🤖 AI MANAGER: Starting agent interaction"}
{,"time":1751733913272,"jobId":"workflow-1751733895381","agentType":"function-planner","originalDataSize":22354,"filteredDataSize":22110,"reductionPercentage":1,"fieldsIncluded":["coreConcept","valueProposition","toolType","targetAudience","keyCalculations","calculationLogic","suggestedInputs","interactionFlow","leadCaptureStrategy","creativeEnhancements","dataRequirements","mockData","userDataInstructions"],"fieldsExcluded":[],"fieldsKept":13,"msg":"🎯 BRAINSTORM FILTER: Function Planner data filtered"}
{,"time":1751733913274,"jobId":"workflow-1751733895381","promptLength":5727,"brainstormContextAdded":true,"dataReduction":"Applied Function Planner specific filtering","msg":"🔧 FunctionPlanner Module: [FILTERED BRAINSTORM] Context successfully added to prompt"}
{,"time":1751733924205,"jobId":"workflow-1751733895381","agentType":"function-planner","model":"gpt-4o","responseTime":10940,"success":true,"msg":"🤖 AI MANAGER: Agent interaction successful"}
{,"time":1751733924206,"jobId":"workflow-1751733895381","agentType":"function-planner","responseType":"object","responseSize":3782,"msg":"🔍 RESPONSE PARSER: Starting response parsing"}
{,"time":1751733924207,"jobId":"workflow-1751733895381","agentType":"function-planner","parseTime":1,"validationScore":100,"msg":"🔍 RESPONSE PARSER: Response parsed successfully"}
{,"time":1751733924207,"jobId":"workflow-1751733895381","agentType":"function-planner","parseSuccess":true,"validationScore":100,"errorsCount":0,"warningsCount":0,"msg":" AGENT EXECUTOR: ResponseParser validation completed for function-planner"}
{,"time":1751733924208,"jobId":"workflow-1751733895381","agentType":"function-planner","resultKeys":["functionSignatures","metadata"],"resultType":"object","msg":"🔍 [TCC-MANAGER] Processing function-planner result"}
{,"time":1751733924208,"jobId":"workflow-1751733895381","agentType":"function-planner","updatedFields":["function-planner","steps"],"msg":"TCC updated with result from function-planner"}
{,"time":1751733924209,"jobId":"workflow-1751733895381","agentType":"function-planner","success":true,"hasUpdatedTcc":true,"msg":"✅ Direct agent execution completed for function-planner"}
{,"time":1751733924209,"jobId":"workflow-1751733895381","fnCount":8,"names":["calculateVulnerabilityRiskScore","calculateCategoryRiskScores","calculateMitigationPriorityScore","estimateImplementationCost","handleInputChange","handleFormSubmit","generateRiskVisualization","downloadSecurityRoadmap"],"msg":"🧩 Function-Planner output summary"}
{,"time":1751733924209,"message":"function-planner completed successfully","jobId":"workflow-1751733895381","stepName":"planning_function_signatures","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733924209,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733924210,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733924508,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733924508,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733924509,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733924776,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733924785,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733924786,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733924786,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"planning_function_signatures","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733924786,"message":"State-Design loop initiated","jobId":"workflow-1751733895381","stepName":"designing_state_logic","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733924786,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733924787,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733925064,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733925065,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733925066,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733925337,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733925348,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733925348,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733925348,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"designing_state_logic","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733925349,"agentType":"state-design","modelId":"gpt-4o","source":"TCC_AGENT_MAPPING","msg":"Using model from TCC agent mapping"}
{,"time":1751733925350,"jobId":"workflow-1751733895381","agentType":"state-design","attemptNumber":1,"isRetry":false,"retryStrategy":"standard","executionType":"ai","msg":" AGENT EXECUTOR: Executing AI agent state-design (attempt 1)"}
{,"time":1751733925350,"jobId":"workflow-1751733895381","agentType":"state-design","model":"gpt-4o","provider":"openai","attemptNumber":1,"msg":"🤖 AI MANAGER: Starting agent interaction"}
{,"time":1751733925351,"jobId":"workflow-1751733895381","agentType":"state-design","originalDataSize":22354,"filteredDataSize":19611,"reductionPercentage":12,"fieldsIncluded":["coreConcept","valueProposition","toolType","targetAudience","suggestedInputs","keyCalculations","calculationLogic","dataRequirements","mockData","researchData","userDataInstructions"],"fieldsExcluded":["interactionFlow","leadCaptureStrategy","creativeEnhancements"],"fieldsKept":11,"msg":"🎯 BRAINSTORM FILTER: State Design data filtered"}
{,"time":1751733925352,"msg":"Generating user prompt for State Design Agent in CREATE mode."}
{,"time":1751733950965,"jobId":"workflow-1751733895381","agentType":"state-design","model":"gpt-4o","responseTime":25614,"success":true,"msg":"🤖 AI MANAGER: Agent interaction successful"}
{,"time":1751733950965,"jobId":"workflow-1751733895381","agentType":"state-design","responseType":"object","responseSize":9320,"msg":"🔍 RESPONSE PARSER: Starting response parsing"}
{,"time":1751733950966,"jobId":"workflow-1751733895381","agentType":"state-design","parseTime":1,"validationScore":100,"msg":"🔍 RESPONSE PARSER: Response parsed successfully"}
{,"time":1751733950966,"jobId":"workflow-1751733895381","agentType":"state-design","parseSuccess":true,"validationScore":100,"errorsCount":0,"warningsCount":0,"msg":" AGENT EXECUTOR: ResponseParser validation completed for state-design"}
{,"time":1751733950967,"jobId":"workflow-1751733895381","agentType":"state-design","resultKeys":["stateLogic","metadata"],"resultType":"object","msg":"🔍 [TCC-MANAGER] Processing state-design result"}
{,"time":1751733950967,"jobId":"workflow-1751733895381","agentType":"state-design","updatedFields":["state-design","steps"],"msg":"TCC updated with result from state-design"}
{,"time":1751733950968,"jobId":"workflow-1751733895381","pass":1,"remainingCount":0,"remaining":[],"msg":" State-Design loop pass completed"}
{,"time":1751733950972,"message":"State-Design loop completed in 1 pass(es)","jobId":"workflow-1751733895381","stepName":"designing_state_logic","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733950972,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733950973,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733951334,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733951334,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733951335,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733951642,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733951653,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733951654,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733951654,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"designing_state_logic","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733951655,"jobId":"workflow-1751733895381","agentType":"state-design","userId":"lem1","msg":"📊 Emitting TCC update event"}
{,"time":1751733951655,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733951656,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733952014,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733952014,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733952016,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733952492,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733952493,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733952493,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733952494,"jobId":"workflow-1751733895381","userId":"lem1","agentType":"state-design","msg":"📊 Successfully sent TCC update via WebSocket"}
{,"time":1751733952494,"jobId":"workflow-1751733895381","agentType":"function-planner","userId":"lem1","msg":"📊 Emitting TCC update event"}
{,"time":1751733952494,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733952496,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733952848,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733952849,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733952849,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733953415,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733953417,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733953417,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733953417,"jobId":"workflow-1751733895381","userId":"lem1","agentType":"function-planner","msg":"📊 Successfully sent TCC update via WebSocket"}
{,"time":1751733953417,"jobId":"workflow-1751733895381","agentType":"function-planner","step":"1/6","hasResult":true,"hasUpdatedTcc":true,"msg":"✅ Agent function-planner completed successfully"}
{,"time":1751733953417,"jobId":"workflow-1751733895381","agentType":"jsx-layout","step":"2/6","model":"gpt-4o","msg":"🤖 Processing agent: jsx-layout"}
{,"time":1751733953418,"message":"jsx-layout is processing...","jobId":"workflow-1751733895381","stepName":"designing_jsx_layout","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733953418,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733953419,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733953730,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733953731,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733953734,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733954027,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733954034,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733954034,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733954034,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"designing_jsx_layout","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733954034,"jobId":"workflow-1751733895381","agentType":"jsx-layout","model":"gpt-4o","tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic"],"msg":"🔗 Executing jsx-layout agent directly"}
{,"time":1751733954034,"agentType":"jsx-layout","modelId":"gpt-4o","source":"TCC_AGENT_MAPPING","msg":"Using model from TCC agent mapping"}
{,"time":1751733954035,"jobId":"workflow-1751733895381","agentType":"jsx-layout","attemptNumber":1,"isRetry":false,"retryStrategy":"standard","executionType":"ai","msg":" AGENT EXECUTOR: Executing AI agent jsx-layout (attempt 1)"}
{,"time":1751733954035,"jobId":"workflow-1751733895381","agentType":"jsx-layout","model":"gpt-4o","provider":"openai","attemptNumber":1,"msg":"🤖 AI MANAGER: Starting agent interaction"}
{,"time":1751733954036,"jobId":"workflow-1751733895381","agentType":"jsx-layout","originalDataSize":22354,"filteredDataSize":15082,"reductionPercentage":33,"fieldsIncluded":["coreConcept","valueProposition","toolType","targetAudience","suggestedInputs","interactionFlow","keyCalculations","leadCaptureStrategy","mockData","researchData"],"fieldsExcluded":["calculationLogic","creativeEnhancements"],"fieldsKept":10,"msg":"🎯 BRAINSTORM FILTER: JSX Layout data filtered"}
{,"time":1751733954038,"msg":"Generating user prompt for JSX Layout Agent in CREATE mode."}
{,"time":1751733974922,"jobId":"workflow-1751733895381","agentType":"jsx-layout","model":"gpt-4o","responseTime":20886,"success":true,"msg":"🤖 AI MANAGER: Agent interaction successful"}
{,"time":1751733974922,"jobId":"workflow-1751733895381","agentType":"jsx-layout","responseType":"object","responseSize":10230,"msg":"🔍 RESPONSE PARSER: Starting response parsing"}
{,"time":1751733974922,"jobId":"workflow-1751733895381","agentType":"jsx-layout","parseTime":0,"validationScore":100,"msg":"🔍 RESPONSE PARSER: Response parsed successfully"}
{,"time":1751733974923,"jobId":"workflow-1751733895381","agentType":"jsx-layout","parseSuccess":true,"validationScore":100,"errorsCount":0,"warningsCount":0,"msg":" AGENT EXECUTOR: ResponseParser validation completed for jsx-layout"}
{,"time":1751733974923,"jobId":"workflow-1751733895381","agentType":"jsx-layout","resultKeys":["jsxLayout","metadata"],"resultType":"object","msg":"🔍 [TCC-MANAGER] Processing jsx-layout result"}
{,"time":1751733974923,"jobId":"workflow-1751733895381","agentType":"jsx-layout","hasResult":true,"hasJsxLayout":true,"jsxLayoutKeys":["componentStructure","elementMap","accessibilityFeatures","responsiveBreakpoints"],"hasComponentStructure":true,"componentStructureLength":9559,"fullResultPreview":"{\n  \"jsxLayout\": {\n    \"componentStructure\": \"<Card data-style-id=\\\"main-tool-card\\\">\\n  <CardHeader data-style-id=\\\"tool-header-card\\\">\\n    <CardTitle data-style-id=\\\"title-heading\\\">Small Business Cybersecurity Risk Assessment</CardTitle>\\n    <TooltipProvider>\\n      <Tooltip>\\n        <TooltipTrigger asChild>\\n          <Button variant=\\\"ghost\\\" data-style-id=\\\"info-button\\\">\\n            <Info className=\\\"h-4 w-4\\\" />\\n          </Button>\\n        </TooltipTrigger>\\n        <TooltipContent>\\n          <div className=\\\"max-w-xs\\\">\\n            <p className=\\\"font-semibold\\\">Small Business Cybersecurity Risk Assessment</p>\\n            <p>Identify and prioritize cybersecurity vulnerabilities with expert guidance tailored to your business size and industry.</p>\\n            <p className=\\\"mt-1 text-xs\\\">Complete the assessment to receive a customized action plan.</p>\\n          </div>\\n        </TooltipContent>\\n      </Tooltip>\\n    </TooltipProvider>\\n  </CardHeader>\\n  <CardConte...","msg":"🔍 [TCC-MANAGER] jsx-layout result detailed analysis"}
{,"time":1751733974923,"jobId":"workflow-1751733895381","storedJsxLayoutExists":true,"storedComponentStructureExists":true,"msg":"🔍 [TCC-MANAGER] jsx-layout data stored in TCC - verification"}
{,"time":1751733974924,"jobId":"workflow-1751733895381","agentType":"jsx-layout","finalTccJsxLayoutExists":true,"finalTccComponentStructureExists":true,"tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic","jsxLayout"],"msg":"🔍 [TCC-MANAGER] FINAL TCC STATE after jsx-layout update"}
{,"time":1751733974924,"jobId":"workflow-1751733895381","agentType":"jsx-layout","success":true,"hasUpdatedTcc":true,"msg":"✅ Direct agent execution completed for jsx-layout"}
{,"time":1751733974924,"message":"jsx-layout completed successfully","jobId":"workflow-1751733895381","stepName":"designing_jsx_layout","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733974924,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733974925,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733975238,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733975239,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733975239,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733975550,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733975590,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733975590,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733975590,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"designing_jsx_layout","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733975591,"jobId":"workflow-1751733895381","agentType":"jsx-layout","userId":"lem1","msg":"📊 Emitting TCC update event"}
{,"time":1751733975591,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733975592,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733975832,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733975832,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733975833,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733976245,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733976274,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733976275,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733976275,"jobId":"workflow-1751733895381","userId":"lem1","agentType":"jsx-layout","msg":"📊 Successfully sent TCC update via WebSocket"}
{,"time":1751733976275,"jobId":"workflow-1751733895381","agentType":"jsx-layout","step":"2/6","hasResult":true,"hasUpdatedTcc":true,"msg":"✅ Agent jsx-layout completed successfully"}
{,"time":1751733976275,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","step":"3/6","model":"claude-3-7-sonnet-20250219","msg":"🤖 Processing agent: tailwind-styling"}
{,"time":1751733976275,"message":"tailwind-styling is processing...","jobId":"workflow-1751733895381","stepName":"applying_tailwind_styling","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751733976275,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751733976276,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751733976582,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751733976582,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751733976583,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751733976860,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733976873,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751733976874,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751733976875,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"applying_tailwind_styling","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751733976875,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","model":"claude-3-7-sonnet-20250219","tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic","jsxLayout"],"msg":"🔗 Executing tailwind-styling agent directly"}
{,"time":1751733976876,"agentType":"tailwind-styling","modelId":"claude-3-7-sonnet-20250219","source":"TCC_AGENT_MAPPING","msg":"Using model from TCC agent mapping"}
{,"time":1751733976878,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","originalDataSize":22354,"filteredDataSize":1176,"reductionPercentage":95,"fieldsIncluded":["coreConcept","valueProposition","toolType","targetAudience","creativeEnhancements","leadCaptureStrategy"],"fieldsExcluded":["suggestedInputs","keyCalculations","calculationLogic","interactionFlow"],"fieldsKept":6,"msg":"🎯 BRAINSTORM FILTER: Tailwind Styling data filtered"}
{,"time":1751733976879,"jobId":"workflow-1751733895381","promptLength":12614,"brainstormContextAdded":true,"dataReduction":"Applied Tailwind Styling specific filtering","msg":"🎨 TailwindStyling Module: [FILTERED BRAINSTORM] Context successfully added to prompt"}
{,"time":1751733976879,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","msg":"🚀 Starting two-step Tailwind Styling execution."}
{,"time":1751733976879,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","msg":"   ➡️  Step 1: Generating StyleMap and ColorScheme."}
{,"time":1751733976883,"jobId":"workflow-1751733895381","hasTcc":true,"tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic","jsxLayout"],"hasJsxLayout":true,"jsxLayoutKeys":["componentStructure","elementMap","accessibilityFeatures","responsiveBreakpoints"],"hasComponentStructure":true,"componentStructureType":"string","componentStructureLength":9559,"componentStructurePreview":"<Card data-style-id=\"main-tool-card\">\n  <CardHeader data-style-id=\"tool-header-card\">\n    <CardTitle...","fullJsxLayoutData":"{\n  \"componentStructure\": \"<Card data-style-id=\\\"main-tool-card\\\">\\n  <CardHeader data-style-id=\\\"tool-header-card\\\">\\n    <CardTitle data-style-id=\\\"title-heading\\\">Small Business Cybersecurity Risk Assessment</CardTitle>\\n    <TooltipProvider>\\n      <Tooltip>\\n        <TooltipTrigger asChild>\\n          <Button variant=\\\"ghost\\\" data-style-id=\\\"info-button\\\">\\n            <Info className=\\\"h-4 w-4\\\" />\\n          </Button>\\n        </TooltipTrigger>\\n        <TooltipContent>\\n          <div c...","msg":"🔍 [TAILWIND-STYLING] Step1 - Received TCC data analysis"}
{,"time":1751733996746,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","styleMapKeys":31,"msg":"   ✅ Step 1: Successfully generated StyleMap."}
{,"time":1751733996746,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","msg":"   ➡️  Step 2: Generating Styled Component Code using the new StyleMap."}
{,"time":1751734035888,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","codeLength":11211,"msg":"   ✅ Step 2: Successfully generated Styled Component Code."}
{,"time":1751734035889,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","msg":"🎉 Successfully combined results from both steps."}
{,"time":1751734035889,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","resultKeys":["styling","metadata"],"resultType":"object","msg":"🔍 [TCC-MANAGER] Processing tailwind-styling result"}
{,"time":1751734035889,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","updatedFields":["tailwind-styling","steps"],"msg":"TCC updated with result from tailwind-styling"}
{,"time":1751734035889,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","success":true,"hasUpdatedTcc":true,"msg":"✅ Direct agent execution completed for tailwind-styling"}
{,"time":1751734035890,"message":"tailwind-styling completed successfully","jobId":"workflow-1751733895381","stepName":"applying_tailwind_styling","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734035890,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734035891,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734036211,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734036213,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734036214,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734036535,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734036541,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734036542,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734036542,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"applying_tailwind_styling","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734036542,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","userId":"lem1","msg":"📊 Emitting TCC update event"}
{,"time":1751734036543,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734036544,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734036826,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734036827,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734036829,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734037446,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734037477,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734037478,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734037479,"jobId":"workflow-1751733895381","userId":"lem1","agentType":"tailwind-styling","msg":"📊 Successfully sent TCC update via WebSocket"}
{,"time":1751734037480,"jobId":"workflow-1751733895381","agentType":"tailwind-styling","step":"3/6","hasResult":true,"hasUpdatedTcc":true,"msg":"✅ Agent tailwind-styling completed successfully"}
{,"time":1751734037480,"jobId":"workflow-1751733895381","agentType":"component-assembler","step":"4/6","model":"gpt-4.1-mini","msg":"🤖 Processing agent: component-assembler"}
{,"time":1751734037481,"message":"component-assembler is processing...","jobId":"workflow-1751733895381","stepName":"assembling_component","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734037482,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734037485,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734037788,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734037789,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734037792,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734038109,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734038135,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734038136,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734038136,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"assembling_component","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734038136,"jobId":"workflow-1751733895381","agentType":"component-assembler","model":"gpt-4.1-mini","tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic","jsxLayout","styling"],"msg":"🔗 Executing component-assembler agent directly"}
{,"time":1751734038137,"agentType":"component-assembler","modelId":"gpt-4.1-mini","source":"TCC_AGENT_MAPPING","msg":"Using model from TCC agent mapping"}
{,"time":1751734038138,"jobId":"workflow-1751733895381","agentType":"component-assembler","executionType":"programmatic","msg":" AGENT EXECUTOR: Executing programmatic module component-assembler"}
{,"time":1751734038139,"jobId":"workflow-1751733895381","agentType":"component-assembler","method":"programmatic","msg":"🔧 COMPONENT ASSEMBLER: Starting programmatic assembly"}
{,"time":1751734038563,"agentType":"component-assembler","error":"'import' and 'export' may only appear at the top level. (309:0)","msg":"⚠️ finalizeComponentCode: Babel parse check failed"}
{,"time":1751734038564,"jobId":"workflow-1751733895381","agentType":"component-assembler","assemblyTime":425,"codeLength":17486,"stateVariables":48,"functions":8,"msg":"✅ COMPONENT ASSEMBLER: Programmatic assembly completed"}
{,"time":1751734038567,"jobId":"workflow-1751733895381","agentType":"component-assembler","assembledCodePreview":"\"use client\";\n// import React from 'react';\nfunction SmallBusinessCybersecurityRiskAssessmentMitigationPlanner() {\n  const [stateBusinessSize, setStateBusinessSize] = React.useState(\"\");\n  const [businessSizeOptions, setBusinessSizeOptions] = React.useState([\"Under $100K\",\"$100K - $500K\",\"$500K - $1M\",\"Over $1M\"]);\n  const [stateIndustry, setStateIndustry] = React.useState(\"\");\n  const [industryOptions, setIndustryOptions] = React.useState([\"Technology\",\"Healthcare\",\"Finance\",\"Retail\"]);\n  const...","assembledCodeLength":17486,"assembledCodeHash":"0a9509cb","msg":"🔍 COMPONENT ASSEMBLER: Assembled code preview"}
{,"time":1751734038569,"jobId":"workflow-1751733895381","agentType":"component-assembler","executionTime":431,"validationScore":100,"executionType":"programmatic","msg":" AGENT EXECUTOR: Programmatic module component-assembler completed successfully"}
{,"time":1751734038569,"jobId":"workflow-1751733895381","agentType":"component-assembler","resultKeys":["assembledCode","metadata"],"resultType":"object","msg":"🔍 [TCC-MANAGER] Processing component-assembler result"}
{,"time":1751734038573,"jobId":"workflow-1751733895381","agentType":"component-assembler","codeLength":17486,"hasMetadata":true,"assemblyMethod":"programmatic-jsx","isJsxFormat":true,"requiresTranspilation":true,"msg":"✅ [TCC-MANAGER] stored assembled component"}
{,"time":1751734038574,"jobId":"workflow-1751733895381","agentType":"component-assembler","updatedFields":["component-assembler","steps"],"msg":"TCC updated with result from component-assembler"}
{,"time":1751734038575,"jobId":"workflow-1751733895381","agentType":"component-assembler","success":true,"hasUpdatedTcc":true,"msg":"✅ Direct agent execution completed for component-assembler"}
{,"time":1751734038576,"message":"component-assembler completed successfully","jobId":"workflow-1751733895381","stepName":"assembling_component","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734038577,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734038580,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734038933,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734038935,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734038936,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734039262,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734039299,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734039299,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734039300,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"assembling_component","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734039301,"jobId":"workflow-1751733895381","agentType":"component-assembler","userId":"lem1","msg":"📊 Emitting TCC update event"}
{,"time":1751734039302,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734039304,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734039667,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734039668,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734039670,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734040059,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","error":"UnknownError","msg":"📡 [WEBSOCKET-ERROR] Failed to send to connection (connection may be stale)"}
{,"time":1751734040066,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","error":"UnknownError","msg":"📡 [WEBSOCKET-ERROR] Failed to send to connection (connection may be stale)"}
{,"time":1751734040067,"jobId":"workflow-1751733895381","successCount":0,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734040068,"jobId":"workflow-1751733895381","userId":"lem1","agentType":"component-assembler","msg":"📊 Failed to send TCC update via WebSocket"}
{,"time":1751734040069,"jobId":"workflow-1751733895381","agentType":"component-assembler","step":"4/6","hasResult":true,"hasUpdatedTcc":true,"msg":"✅ Agent component-assembler completed successfully"}
{,"time":1751734040069,"jobId":"workflow-1751733895381","agentType":"code-validator","step":"5/6","model":"gpt-4.1-mini","msg":"🤖 Processing agent: code-validator"}
{,"time":1751734040069,"message":"code-validator is processing...","jobId":"workflow-1751733895381","stepName":"validating_code","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734040069,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734040071,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734040507,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734040508,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734040509,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734040840,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734040844,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734040845,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734040846,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"validating_code","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734040847,"jobId":"workflow-1751733895381","agentType":"code-validator","model":"gpt-4.1-mini","tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic","jsxLayout","styling","assembledComponentCode","assembledComponent"],"msg":"🔗 Executing code-validator agent directly"}
{,"time":1751734040847,"agentType":"code-validator","modelId":"gpt-4.1-mini","source":"TCC_AGENT_MAPPING","msg":"Using model from TCC agent mapping"}
{,"time":1751734040848,"jobId":"workflow-1751733895381","agentType":"code-validator","attemptNumber":1,"isRetry":false,"retryStrategy":"standard","executionType":"ai","msg":" AGENT EXECUTOR: Executing AI agent code-validator (attempt 1)"}
{,"time":1751734040849,"jobId":"workflow-1751733895381","agentType":"code-validator","model":"gpt-4.1-mini","provider":"openai","attemptNumber":1,"msg":"🤖 AI MANAGER: Starting agent interaction"}
{,"time":1751734043884,"jobId":"workflow-1751733895381","agentType":"code-validator","model":"gpt-4.1-mini","responseTime":3035,"success":true,"msg":"🤖 AI MANAGER: Agent interaction successful"}
{,"time":1751734043884,"jobId":"workflow-1751733895381","agentType":"code-validator","responseType":"object","responseSize":357,"msg":"🔍 RESPONSE PARSER: Starting response parsing"}
{,"time":1751734043884,"jobId":"workflow-1751733895381","agentType":"code-validator","parseTime":0,"validationScore":100,"msg":"🔍 RESPONSE PARSER: Response parsed successfully"}
{,"time":1751734043885,"jobId":"workflow-1751733895381","agentType":"code-validator","parseSuccess":true,"validationScore":100,"errorsCount":0,"warningsCount":0,"msg":" AGENT EXECUTOR: ResponseParser validation completed for code-validator"}
{,"time":1751734043885,"jobId":"workflow-1751733895381","agentType":"code-validator","resultKeys":["validationResult","metadata"],"resultType":"object","msg":"🔍 [TCC-MANAGER] Processing code-validator result"}
{,"time":1751734043885,"jobId":"workflow-1751733895381","agentType":"code-validator","updatedFields":["code-validator","steps"],"msg":"TCC updated with result from code-validator"}
{,"time":1751734043885,"jobId":"workflow-1751733895381","agentType":"code-validator","success":true,"hasUpdatedTcc":true,"msg":"✅ Direct agent execution completed for code-validator"}
{,"time":1751734043885,"message":"code-validator completed successfully","jobId":"workflow-1751733895381","stepName":"validating_code","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734043886,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734043887,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734044213,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734044213,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734044213,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734044477,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734044489,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734044490,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734044490,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"validating_code","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734044490,"jobId":"workflow-1751733895381","agentType":"code-validator","userId":"lem1","msg":"📊 Emitting TCC update event"}
{,"time":1751734044490,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734044492,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734044747,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734044748,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734044748,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734045076,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","error":"UnknownError","msg":"📡 [WEBSOCKET-ERROR] Failed to send to connection (connection may be stale)"}
{,"time":1751734045078,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","error":"UnknownError","msg":"📡 [WEBSOCKET-ERROR] Failed to send to connection (connection may be stale)"}
{,"time":1751734045078,"jobId":"workflow-1751733895381","successCount":0,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734045078,"jobId":"workflow-1751733895381","userId":"lem1","agentType":"code-validator","msg":"📊 Failed to send TCC update via WebSocket"}
{,"time":1751734045079,"jobId":"workflow-1751733895381","agentType":"code-validator","step":"5/6","hasResult":true,"hasUpdatedTcc":true,"msg":"✅ Agent code-validator completed successfully"}
{,"time":1751734045079,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","step":"6/6","model":"gpt-4.1-mini","msg":"🤖 Processing agent: tool-finalizer"}
{,"time":1751734045079,"message":"tool-finalizer is processing...","jobId":"workflow-1751733895381","stepName":"finalizing_tool","status":"started","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734045079,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734045080,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734045506,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734045507,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734045507,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734045792,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734045795,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734045795,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734045796,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"finalizing_tool","status":"started","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734045796,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","model":"gpt-4.1-mini","tccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic","jsxLayout","styling","assembledComponentCode","assembledComponent"],"msg":"🔗 Executing tool-finalizer agent directly"}
{,"time":1751734045796,"agentType":"tool-finalizer","modelId":"gpt-4.1-mini","source":"TCC_AGENT_MAPPING","msg":"Using model from TCC agent mapping"}
{,"time":1751734045796,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","executionType":"programmatic","msg":" AGENT EXECUTOR: Executing programmatic module tool-finalizer"}
{,"time":1751734045797,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","msg":"🎯 TOOL FINALIZER: Starting programmatic finalization"}
{,"time":1751734046014,"err":"C:\\Users\\Administrator\\Dropbox\\Source\\Projects-25\\Keyvex_Project\\keyvex_app\\assembled-component.tsx: 'import' and 'export' may only appear at the top level. (309:0)\n\n\u001b[0m \u001b[90m 307 |\u001b[39m   )\u001b[33m;\u001b[39m\n \u001b[90m 308 |\u001b[39m }\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 309 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mdefault\u001b[39m \u001b[33mSmallBusinessCybersecurityRiskAssessmentMitigationPlanner\u001b[39m\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 310 |\u001b[39m\u001b[0m","msg":"⚠️ TOOL FINALIZER: Babel transpile failed – keeping JSX"}
{,"time":1751734046014,"beforeLen":17486,"afterLen":17486,"msg":"✅ TOOL FINALIZER: JSX transpiled to runnable JS"}
{,"time":1751734046015,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","qualityScore":100,"readinessLevel":"staging","completionTime":218,"codeLength":17486,"msg":"✅ TOOL FINALIZER: Programmatic finalization completed successfully"}
{,"time":1751734046016,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","executionTime":219,"validationScore":100,"executionType":"programmatic","msg":" AGENT EXECUTOR: Programmatic module tool-finalizer completed successfully"}
{,"time":1751734046016,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","resultKeys":["finalProduct","metadata"],"resultType":"object","msg":"🔍 [TCC-MANAGER] Processing tool-finalizer result"}
{,"time":1751734046016,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","updatedFields":["tool-finalizer","steps"],"msg":"TCC updated with result from tool-finalizer"}
{,"time":1751734046016,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","success":true,"hasUpdatedTcc":true,"msg":"✅ Direct agent execution completed for tool-finalizer"}
{,"time":1751734046016,"message":"tool-finalizer completed successfully","jobId":"workflow-1751733895381","stepName":"finalizing_tool","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734046017,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734046018,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734046286,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734046286,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734046287,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734046551,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734046554,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734046554,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734046554,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"finalizing_tool","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734046554,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","userId":"lem1","msg":"📊 Emitting TCC update event"}
{,"time":1751734046555,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734046555,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734046832,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734046832,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734046833,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734047195,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","error":"UnknownError","msg":"📡 [WEBSOCKET-ERROR] Failed to send to connection (connection may be stale)"}
{,"time":1751734047215,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","error":"UnknownError","msg":"📡 [WEBSOCKET-ERROR] Failed to send to connection (connection may be stale)"}
{,"time":1751734047215,"jobId":"workflow-1751733895381","successCount":0,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734047215,"jobId":"workflow-1751733895381","userId":"lem1","agentType":"tool-finalizer","msg":"📊 Failed to send TCC update via WebSocket"}
{,"time":1751734047215,"jobId":"workflow-1751733895381","agentType":"tool-finalizer","step":"6/6","hasResult":true,"hasUpdatedTcc":true,"msg":"✅ Agent tool-finalizer completed successfully"}
{,"time":1751734047215,"message":"V2 Orchestration workflow completed successfully","jobId":"workflow-1751733895381","stepName":"completed","status":"completed","msg":"📡 [WEBSOCKET-EMIT-START] Emitting progress event"}
{,"time":1751734047216,"urlAvailable":true,"accessKeyAvailable":true,"secretKeyAvailable":true,"WEBSOCKET_API_URL":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","AWS_ACCESS_KEY_ID":"Set","AWS_SECRET_ACCESS_KEY":"Set","msg":"📡 [AWS-WEBSOCKET-CHECK]"}
{,"time":1751734047216,"userId":"lem1","queryKey":"USER#lem1","tableName":"keyvex-main-table-development","msg":"Querying DynamoDB for user connections"}
{,"time":1751734047605,"jobId":"N/A","userId":"lem1","resultCount":2,"scannedCount":2,"rawResponse":[{"connectedAt":"2025-07-05T16:45:17.723Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"workflow-1751733895381","connectionId":"NPp4rdo-oAMCKVw=","ttl":1751741117,"SK":"USER#lem1","PK":"CONNECTION#NPp4rdo-oAMCKVw=","GSI1SK":"CONNECTION#NPp4rdo-oAMCKVw="},{"connectedAt":"2025-07-05T16:43:59.010Z","GSI1PK":"USER#lem1","userId":"lem1","jobId":"session-520264ec-f480-4e4d-8b0a-ce36b72d52fd","connectionId":"NPpsSe5QoAMCICA=","ttl":1751741039,"SK":"USER#lem1","PK":"CONNECTION#NPpsSe5QoAMCICA=","GSI1SK":"CONNECTION#NPpsSe5QoAMCICA="}],"msg":"🔍 [DynamoDB-QUERY-RESULT]"}
{,"time":1751734047605,"jobId":"workflow-1751733895381","envUrl":"wss://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedWsUrl":"4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","parsedDomain":"4pfmheijde.execute-api.us-east-1.amazonaws.com","parsedStage":"dev","finalCallbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","msg":"🔍 [URL-CONSTRUCTION-DETAILS]"}
{,"time":1751734047606,"callbackUrl":"https://4pfmheijde.execute-api.us-east-1.amazonaws.com/dev","connectionCount":2,"jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Preparing to send to WebSocket connections"}
{,"time":1751734047870,"connectionId":"NPpsSe5QoAMCICA=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734047872,"connectionId":"NPp4rdo-oAMCKVw=","jobId":"workflow-1751733895381","msg":"📡 [AWS-WEBSOCKET] Message sent successfully"}
{,"time":1751734047873,"jobId":"workflow-1751733895381","successCount":2,"totalConnections":2,"msg":"📡 [AWS-WEBSOCKET] Message sending completed"}
{,"time":1751734047873,"jobId":"workflow-1751733895381","userId":"lem1","stepName":"completed","status":"completed","msg":"📡 [WEBSOCKET-EMIT-SUCCESS] Successfully sent WebSocket message"}
{,"time":1751734047873,"jobId":"workflow-1751733895381","totalAgents":6,"finalTccKeys":["userId","jobId","userInput","brainstormData","stepStatus","agentModelMapping","status","currentOrchestrationStep","targetAudience","createdAt","updatedAt","steps","functionSignatures","stateLogic","jsxLayout","styling","assembledComponentCode","assembledComponent","finalProduct"],"msg":"🎉 V2 Orchestration: All agents completed successfully"}
{,"time":1751734659746,"msg":"🚀 Logger initialized (debug: pretty console + simple file)"}
{,"time":1751734667433,"msg":"🚀 Logger initialized (debug: pretty console + simple file)"}
